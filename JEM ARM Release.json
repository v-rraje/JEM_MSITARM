{"id":1587,"revision":295,"name":"JEM ARM Release","createdBy":{"id":"3ec02084-27a0-4e77-9c77-78c8b48bcd5e","displayName":"Raja Rajendraprasath (Infosys Ltd)","uniqueName":"v-rraje@microsoft.com","url":"https://app.vssps.visualstudio.com/Ac5980f40-c81d-404b-8b4b-f368d14877e9/_apis/Identities/3ec02084-27a0-4e77-9c77-78c8b48bcd5e","imageUrl":"https://microsoftit.visualstudio.com/_api/_common/identityImage?id=3ec02084-27a0-4e77-9c77-78c8b48bcd5e"},"createdOn":"2016-09-01T13:41:54.413Z","modifiedBy":{"id":"3ec02084-27a0-4e77-9c77-78c8b48bcd5e","displayName":"Raja Rajendraprasath (Infosys Ltd)","uniqueName":"v-rraje@microsoft.com","url":"https://app.vssps.visualstudio.com/Ac5980f40-c81d-404b-8b4b-f368d14877e9/_apis/Identities/3ec02084-27a0-4e77-9c77-78c8b48bcd5e","imageUrl":"https://microsoftit.visualstudio.com/_api/_common/identityImage?id=3ec02084-27a0-4e77-9c77-78c8b48bcd5e"},"modifiedOn":"2016-10-06T06:31:28.283Z","variables":{"SGAccount":{"value":"redmond\\jeminfy"},"waitTime":{"value":"60"},"appNames":{"value":"@('AdminDataService','CloudSASService','CloudService','IHCCPostingService','IHCCPostPostingService','InfraAdminService','InfraService','JEMMasterDataService','JEMNotification','JEPostingService','JEPostPosting','JEPrePostingService','PostPostingService')"},"serviceNames":{"value":"@('E:\\NTService\\JEMAdminSvc\\Microsoft.FIT.JEM.WS.AdminService.exe;AdminService','E:\\NTService\\JEMWQSvc\\Microsoft.FIT.JEM.WS.WorkQueueService.exe;WorkQueueService','E:\\NTService\\JEMDupMonSvc\\DuplicateJEsMonitoringService.exe;DuplicateJEsMonitoringService','E:\\NTService\\SAPMSMQ\\Microsoft.FIT.JEM.WS.SAPResponseService.exe;SAPResponseService')"},"QEnabled":{"value":"1"},"QueueNames":{"value":"@('jefileQueue','jemdeadMSMQ','jemmsmq','jexlmsmq')"},"Restore":{"value":"1"},"Backup":{"value":"0"},"JemDataDB":{"value":"Jem_Data"},"jemInfraDB":{"value":"JemInfra"},"loginNames":{"value":"@('redmond\\jem-dev','redmond\\jemtest')"},"userRole":{"value":"sysadmin"},"feedstore":{"value":"feedstore"},"appNamesserviceconfig":{"value":"@('AdminDataService','CloudSASService','CloudService','IHCCPostingService','IHCCPostPostingService','InfraAdminService','InfraService','JEMMasterDataService','JEMNotification','JEPostingService','JEPostPosting','JEPrePostingService','PostPostingService')"},"BackupPath":{"value":"'\\\\co1sufsc01.redmond.corp.microsoft.com\\sqldump\\CFITJEMPSQL01\\BAK'"},"differential_DB_JemData":{"value":"@(\"Jem_Data_1.bak\",\"Jem_Data_2.bak\",\"Jem_Data_3.bak\",\"Jem_Data_4.bak\", \"Jem_Data_5.bak\",\"Jem_Data_6.bak\",\"Jem_Data_7.bak\",\"Jem_Data_8.bak\")"},"differential_DB_JemInfra":{"value":"@(\"JemInfra_1.bak\",\"JemInfra_2.bak\",\"JemInfra_3.bak\",\"JemInfra_4.bak\", \"JemInfra_5.bak\",\"JemInfra_6.bak\",\"JemInfra_7.bak\",\"JemInfra_8.bak\")"},"differential_DB_feedstore":{"value":"@(\"feedstore_1.bak\",\"feedstore_2.bak\",\"feedstore_3.bak\",\"feedstore_4.bak\")"}},"environments":[{"id":4788,"name":"Dev","rank":1,"owner":{"id":"3ec02084-27a0-4e77-9c77-78c8b48bcd5e","displayName":"Raja Rajendraprasath (Infosys Ltd)","uniqueName":"v-rraje@microsoft.com","url":"https://app.vssps.visualstudio.com/Ac5980f40-c81d-404b-8b4b-f368d14877e9/_apis/Identities/3ec02084-27a0-4e77-9c77-78c8b48bcd5e","imageUrl":"https://microsoftit.visualstudio.com/_api/_common/identityImage?id=3ec02084-27a0-4e77-9c77-78c8b48bcd5e"},"variables":{"webServer":{"value":"azuswjemdevweb"},"STAccount01":{"value":"jemdevsg10"},"RGAccount01":{"value":"jemdevrg10"},"appServer":{"value":"azuswjemdevapp"},"vmLists":{"value":"@('azuswjemdevweb1','azuswjemdevweb2','azuswjemdevapp1','azuswjemdevapp2')"},"sqlServer":{"value":"azcujemdevsql03"},"webServer01":{"value":"azuswjemdevweb1"},"webServer02":{"value":"azuswjemdevweb2"},"appServer01":{"value":"azuswjemdevapp1"},"appServer02":{"value":"azuswjemdevapp2"},"sqlServer01":{"value":"azuswjemdevsql1"},"sqlServer02":{"value":"azuswjemdevsql2"},"appPoolName":{"value":"Jemdev"},"webSite":{"value":"Jemdev"},"STAccount02":{"value":"jemdevsg11"},"RGAccount02":{"value":"jemdevrg11"},"RGAccount03":{"value":"jemdevrg12"},"STAccount03":{"value":"jemdevsg12"},"RemoteComputers":{"value":"@('azuswjemdevweb1','azuswjemdevweb2','azuswjemdevapp1','azuswjemdevapp2')"},"folderPaths":{"value":"E:\\inetpub\\wwwroot\\Jemdev"},"keyValuesLB1":{"value":"@('Azcujemdevsql03=Azcujemdevsql03', 'Azcujemdeviis01=azuswjemdevweb1', 'Azcujemdeviis02=azuswjemdevapp1', 'http://Jemdevapp=http://jemarmapp2', 'https://saptstcomhl/MSU/=https://sapdevcomhl/MS1/', 'http://jemdevfront=http://jemarmdev2','Azcujemdevsql01=azcujemdevsql03','jem-dev@microsoft.com=jem-dev@microsoft.com')"},"keyValuesLB2":{"value":"@('Azcujemdevsql03=Azcujemdevsql03', 'Azcujemdeviis01=azuswjemdevweb2', 'Azcujemdeviis02=azuswjemdevapp2','http://Jemdevapp=http://jemarmapp2','https://saptstcomhl/MSU/=https://sapdevcomhl/MS1/', 'http://jemdevfront=http://jemarmdev2','Azcujemdevsql01=azcujemdevsql03','jem-dev@microsoft.com=jem-dev@microsoft.com')"},"SrvAccount":{"value":"redmond\\jem-dev"},"SrvPwd":{"value":"Sep@2016"},"AdminUser":{"value":"fareast\\v-rraje"},"AdminPwd":{"value":"Aug2016^"},"NTService":{"value":"E:\\NTService"}},"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":21175}]},"deployStep":{"id":21176},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":21177}]},"deployPhases":[{"deploymentInput":{"skipArtifactsDownload":false,"timeoutInMinutes":0,"queueId":381,"demands":[],"enableAccessToken":false},"rank":1,"phaseType":1,"name":"Run on agent","workflowTasks":[{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create Azrue RG & SG - Web Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount01) -StorageAccountName $(STAccount01)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision Web Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount01)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_WebServerTemplate.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_WebServerParameter.json","overrideParameters":"-vmName $(webServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create Azrue RG & SG - APP Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount02) -StorageAccountName $(STAccount02)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision App Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount02)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_AppServerTemplate.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_AppServerParameter.json","overrideParameters":"-vmName $(appServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create SG &RG for SQl Sever","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount03) -StorageAccountName $(STAccount03)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision for SQl Server","enabled":false,"alwaysRun":false,"continueOnError":true,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount03)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/template_SQL.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/parameters_SQL.json","overrideParameters":"-vmName $(sqlServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision SQL Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"4468fa1e-e0a9-4e8e-983b-09042941776b","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount03)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/v-rraje_JEM_MSITARM/template_ILBSQL.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/v-rraje_JEM_MSITARM/ILB_SQLServerParameter.json","overrideParameters":"-vmName $(sqlServer) \n-localAdminUserName $(AdminUser) \n-localAdminPassword $(AdminPwd) \n-domainJoinUserName $(SrvAccount) \n-domainJoinPassword $(SrvPwd) \n-SQLServerAccount $(SrvAccount) \n-SQLServerPassword $(SrvPwd) \n-SQLAgentAccount $(SrvAccount) \n-SQLAgentPassword $(SrvPwd) \n-localAdmins $(SGAccount) \n-SQLAdmins $(SGAccount) \n-userImageStorageAccountName $(STAccount)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"$(AdminUser)","localPassword":"$(AdminPwd)","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Enable Supporting Features on VMs","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/EnableWindowsFeatureSetUp.ps1","arguments":"-RemoteComputers $(vmLists) -WaitTime $(waitTime) -UserName $(AdminUser) -PassWord $(AdminPwd)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy all powershell scripts to all procured servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM","EnvironmentName":"$(webServer01),\n$(webServer02),\n$(appServer01),$(appServer02),$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"E:\\JemPowershell","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Web UI Bits To Web ILB Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/JEMUI/_PublishedWebsites/Microsoft.FIT.JEM.Web.UI","EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Wcf Bits To App ILB Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/WCFServices","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Common Configuration file","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ServicesConfig/web.config","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy NTservice bits to app servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/NTServices","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(NTService)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Environment Setup In App Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\EnvironmentSetup.ps1","ScriptArguments":"-iisAppPoolName $(appPoolName) -ServiceAccountName $(SrvAccount) -ServiceAccountPwd $(SrvPwd) -iisWebSiteName $(webSite) -iisAppNames $(appNames) -servicePaths $(serviceNames) -IsQueueEnabled $(QEnabled) -QueueNames $(QueueNames)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Environment Setup In Web Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\EnvironmentSetup.ps1","ScriptArguments":"-iisAppPoolName $(appPoolName) -ServiceAccountName $(SrvAccount) -ServiceAccountPwd $(SrvPwd) -iisWebSiteName $(webSite)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore  JEMInfra Database in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(jemInfraDB) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_JemInfra)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore  JEM_Data Database in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(JemDataDB) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_JemData)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore Feed store DB  in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(feedstore) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_feedstore)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"To add user role and permission in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\AddSQLRoles.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -loginNames $(loginNames) -userRole $(userRole)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Env Config Update ON $(webServer01),$(webServer02)","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer01),$(appServer01)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(folderPaths) -keyValues $(keyValuesLB1)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Env Config Update ON $(appServer01),$(appServer02)","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer02),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(folderPaths) -keyValues $(keyValuesLB2)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Run PowerShell on $(appServer01),$(appServer02)","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\Servicesbinconfig.ps1","ScriptArguments":"-ServiceAccountName $(AdminUser) -ServiceAccountPwd $(AdminPwd) -iisAppNames $(appNames) -AppServerPath $(folderPaths)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false},"demands":[],"conditions":[{"name":"UAT","conditionType":2,"value":"4"}],"executionPolicy":{"concurrencyCount":0,"queueDepthCount":0},"schedules":[],"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true}},{"id":5186,"name":"Test","rank":2,"owner":{"id":"3ec02084-27a0-4e77-9c77-78c8b48bcd5e","displayName":"Raja Rajendraprasath (Infosys Ltd)","uniqueName":"v-rraje@microsoft.com","url":"https://app.vssps.visualstudio.com/Ac5980f40-c81d-404b-8b4b-f368d14877e9/_apis/Identities/3ec02084-27a0-4e77-9c77-78c8b48bcd5e","imageUrl":"https://microsoftit.visualstudio.com/_api/_common/identityImage?id=3ec02084-27a0-4e77-9c77-78c8b48bcd5e"},"variables":{"webServer":{"value":"azuswjemtest"},"STAccount01":{"value":"jemtestlrssg1"},"RGAccount01":{"value":"jemtestrg1"},"appServer":{"value":"azuswjemtest"},"vmLists":{"value":"@('azuswjemtest10','azuswjemtest11','azuswjemtest12','azuswjemtest13')"},"sqlServer":{"value":"azcujemtstsql01"},"webServer01":{"value":"azuswjemtest10"},"webServer02":{"value":"azuswjemtest11"},"appServer01":{"value":"azuswjemtest12"},"appServer02":{"value":"azuswjemtest13"},"sqlServer01":{"value":"azuswjemtest14"},"sqlServer02":{"value":"azuswjemtest15"},"appPoolName":{"value":"Jemtest"},"webSite":{"value":"Jemtest"},"STAccount02":{"value":"jemtestrg2"},"RGAccount02":{"value":"jemtestlrssg2"},"RGAccount03":{"value":"jemtestrg3"},"STAccount03":{"value":"jemtestlrssg3"},"RemoteComputers":{"value":"@('azuswjemtest10','azuswjemtest11','azuswjemtest12','azuswjemtest13')"},"folderPaths":{"value":"@('E:\\inetpub\\wwwroot\\Jemtest','E:\\NTService')"},"keyValuesLB1":{"value":"@('Azcujemdevsql03=azcujemtstsql01', 'Azcujemdeviis01=azuswjemtest10','Azcujemdeviis02=azuswjemtest12', 'http://Jemdevapp=http://jemtestv6wcfsvc', 'https://sapdevcomhl/MSU/=https://saptstcomhl/MSU/', 'http://jemdevfront=http://jemtestv6','Azcujemdevsql01=azcujemtstsql01','jem-dev@microsoft.com=jemtest@microsoft.com')"},"keyValuesLB2":{"value":"@('Azcujemdevsql03=azcujemtstsql01', 'Azcujemdeviis01=azuswjemtest11','Azcujemdeviis02=azuswjemtest13', 'http://Jemdevapp=http://jemtestv6wcfsvc', 'https://sapdevcomhl/MSU/=https://saptstcomhl/MSU/', 'http://jemdevfront=http://jemtestv6','Azcujemdevsql01=azcujemtstsql01','jem-dev@microsoft.com=jemtest@microsoft.com')"},"SrvAccount":{"value":"redmond\\jemtest"},"SrvPwd":{"value":"Password@2016"},"AdminUser":{"value":"fareast\\v-rraje"},"AdminPwd":{"value":"Aug2016^"},"NTService":{"value":"E:\\NTService"}},"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":23105}]},"deployStep":{"id":23106},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":23107}]},"deployPhases":[{"deploymentInput":{"skipArtifactsDownload":false,"timeoutInMinutes":0,"queueId":381,"demands":[],"enableAccessToken":false},"rank":1,"phaseType":1,"name":"Run on agent","workflowTasks":[{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create Azrue RG & SG - Web Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount01) -StorageAccountName $(STAccount01)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision Web Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount01)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_WebServerTemplate.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_WebServerParameter_test.json","overrideParameters":"-vmName $(webServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create Azrue RG & SG - APP Server","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount02) -StorageAccountName $(STAccount02)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision App Server ILB VMs","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount02)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_AppServerTemplate.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_AppServerParameter_test.json","overrideParameters":"-vmName $(appServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create SG &RG for SQl Sever","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount03) -StorageAccountName $(STAccount03)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision for SQl Server","enabled":false,"alwaysRun":false,"continueOnError":true,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount03)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/template_SQL.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/parameters_SQL.json","overrideParameters":"-vmName $(sqlServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision SQL Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"4468fa1e-e0a9-4e8e-983b-09042941776b","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount03)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/v-rraje_JEM_MSITARM/template_ILBSQL.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/v-rraje_JEM_MSITARM/ILB_SQLServerParameter.json","overrideParameters":"-vmName $(sqlServer) \n-localAdminUserName $(AdminUser) \n-localAdminPassword $(AdminPwd) \n-domainJoinUserName $(SrvAccount) \n-domainJoinPassword $(SrvPwd) \n-SQLServerAccount $(SrvAccount) \n-SQLServerPassword $(SrvPwd) \n-SQLAgentAccount $(SrvAccount) \n-SQLAgentPassword $(SrvPwd) \n-localAdmins $(SGAccount) \n-SQLAdmins $(SGAccount) \n-userImageStorageAccountName $(STAccount)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"$(AdminUser)","localPassword":"$(AdminPwd)","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Enable Supporting Features on VMs","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/EnableWindowsFeatureSetUp.ps1","arguments":"-RemoteComputers $(vmLists) -WaitTime $(waitTime) -UserName $(AdminUser) -PassWord $(AdminPwd)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy all powershell scripts to all procured servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM","EnvironmentName":"$(webServer01),\n$(webServer02),\n$(appServer01),$(appServer02),$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"E:\\JemPowershell","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Web UI Bits To Web ILB Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/JEMUI/_PublishedWebsites/Microsoft.FIT.JEM.Web.UI","EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Wcf Bits To App ILB Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/WCFServices","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Common Configuration file","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ServicesConfig/web.config","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy NTservice bits to app servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/NTServices","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(NTService)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Environment Setup In App Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\EnvironmentSetup.ps1","ScriptArguments":"-iisAppPoolName $(appPoolName) -ServiceAccountName $(SrvAccount) -ServiceAccountPwd $(SrvPwd) -iisWebSiteName $(webSite) -iisAppNames $(appNames) -servicePaths $(serviceNames) -IsQueueEnabled $(QEnabled) -QueueNames $(QueueNames)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Environment Setup In Web Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\EnvironmentSetup.ps1","ScriptArguments":"-iisAppPoolName $(appPoolName) -ServiceAccountName $(SrvAccount) -ServiceAccountPwd $(SrvPwd) -iisWebSiteName $(webSite)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore  JEMInfra Database in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(jemInfraDB) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_JemInfra)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore  JEM_Data Database in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(JemDataDB) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_JemData)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore Feed store DB  in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(feedstore) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_feedstore)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"To add user role and permission in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\AddSQLRoles.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -loginNames $(loginNames) -userRole $(userRole)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Env Config Update ON $(webServer01),$(webServer02)","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer01),$(appServer01)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(folderPaths) -keyValues $(keyValuesLB1)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Env Config Update ON $(appServer01),$(appServer02)","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer02),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(folderPaths) -keyValues $(keyValuesLB2)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Config Updates on workQueue serives","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(NTService) -keyValues $(keyValuesLB1)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false},"demands":[],"conditions":[{"name":"UAT","conditionType":2,"value":"4"}],"executionPolicy":{"concurrencyCount":0,"queueDepthCount":0},"schedules":[],"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true}},{"id":4053,"name":"UAT","rank":3,"owner":{"id":"3ec02084-27a0-4e77-9c77-78c8b48bcd5e","displayName":"Raja Rajendraprasath (Infosys Ltd)","uniqueName":"v-rraje@microsoft.com","url":"https://app.vssps.visualstudio.com/Ac5980f40-c81d-404b-8b4b-f368d14877e9/_apis/Identities/3ec02084-27a0-4e77-9c77-78c8b48bcd5e","imageUrl":"https://microsoftit.visualstudio.com/_api/_common/identityImage?id=3ec02084-27a0-4e77-9c77-78c8b48bcd5e"},"variables":{"webServer":{"value":"azwstjem9iis"},"STAccount01":{"value":"jemdevsg10"},"RGAccount01":{"value":"jemdevrg10"},"appServer":{"value":"azwstjem10iis"},"vmLists":{"value":"@('azwstjem9iis1','azwstjem9iis2','azwstjem10iis1','azwstjem10iis2','azwstjem10sql')"},"sqlServer":{"value":"azwstjem10sql"},"webServer01":{"value":"azwstjem9iis1"},"webServer02":{"value":"azwstjem9iis2"},"appServer01":{"value":"azwstjem10iis1"},"appServer02":{"value":"azwstjem10iis2"},"sqlServer01":{"value":"azwstjem10sql1"},"sqlServer02":{"value":"azwstjem10sql2"},"appPoolName":{"value":"JemDev"},"webSite":{"value":"JemDev"},"STAccount02":{"value":"jemdevsg11"},"RGAccount02":{"value":"jemdevrg11"},"RGAccount03":{"value":"jemdevrg12"},"STAccount03":{"value":"jemdevsg12"},"RemoteComputers":{"value":"@('azwstjem9iis1','azwstjem9iis2','azwstjem10iis1','azwstjem10iis2')"},"folderPaths":{"value":"E:\\inetpub\\wwwroot\\JemDev"},"keyValuesLB1":{"value":"@('Azcujemdevsql03=azwstjem10sql', 'Azcujemdeviis01=azwstjem9iis1', 'Azcujemdeviis02=azwstjem10iis1', 'http://Jemdevapp:80=http://azwstjem10iis1:80', 'https://saptstcomhl/MSU/=https://saptstcomhl/MSU/', 'https://jemdevfront=https://azwstjem9iis1:80')"},"keyValuesLB2":{"value":"@('Azcujemdevsql03=azwstjem10sql', 'Azcujemdeviis01=azwstjem9iis2', 'Azcujemdeviis02=azwstjem10iis2', 'http://Jemdevapp:80=http://azwstjem10iis2:80', 'https://saptstcomhl/MSU/=https://saptstcomhl/MSU/', 'https://jemdevfront=https://azwstjem9iis2:80')"},"SrvAccount":{"value":"redmond\\jem-dev"},"SrvPwd":{"value":"Sep@2016"},"AdminUser":{"value":"fareast\\v-rraje"},"AdminPwd":{"value":"Aug2016^"},"NTService":{"value":"E:\\NTService"}},"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":17937}]},"deployStep":{"id":17938},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":17939}]},"deployPhases":[{"deploymentInput":{"skipArtifactsDownload":false,"timeoutInMinutes":0,"queueId":381,"demands":[],"enableAccessToken":false},"rank":1,"phaseType":1,"name":"Run on agent","workflowTasks":[{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create Azrue RG & SG - Web Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount01) -StorageAccountName $(STAccount01)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision Web Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount01)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_WebServerTemplate.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_WebServerParameter.json","overrideParameters":"-vmName $(webServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"true","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create Azrue RG & SG - APP Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount02) -StorageAccountName $(STAccount02)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision App Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount02)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_AppServerTemplate.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/ILB_AppServerParameter.json","overrideParameters":"-vmName $(appServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Create SG &RG for SQl Sever","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/Azure_ResourceGroup_ST.ps1","arguments":"-resourceGroupName $(RGAccount03) -StorageAccountName $(STAccount03)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision for SQl Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"67880071-e11b-4fbb-9a2c-03dd77b7e07e","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount03)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/template_SQL.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/parameters_SQL.json","overrideParameters":"-vmName $(sqlServer)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"fareast\\v-rraje","localPassword":"Aug2016^","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"715ffa98-6a4f-45cb-ae18-6067d18f3179","version":"*","name":"Create/Provision SQL Server ILB VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceName","ConnectedServiceName":"4468fa1e-e0a9-4e8e-983b-09042941776b","ConnectedServiceNameClassic":"","action":"Create Or Update Resource Group","actionClassic":"Select Resource Group","resourceGroupName":"$(RGAccount)","cloudService":"","location":"West US","csmFile":"$(System.DefaultWorkingDirectory)/v-rraje_JEM_MSITARM/template_ILBSQL.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/v-rraje_JEM_MSITARM/ILB_SQLServerParameter.json","overrideParameters":"-vmName $(sqlServer) \n-localAdminUserName $(AdminUser) \n-localAdminPassword $(AdminPwd) \n-domainJoinUserName $(SrvAccount) \n-domainJoinPassword $(SrvPwd) \n-SQLServerAccount $(SrvAccount) \n-SQLServerPassword $(SrvPwd) \n-SQLAgentAccount $(SrvAccount) \n-SQLAgentPassword $(SrvPwd) \n-localAdmins $(SGAccount) \n-SQLAdmins $(SGAccount) \n-userImageStorageAccountName $(STAccount)","domainName":"redmond.corp.microsoft.com","domainUserName":"$(SrvAccount)","domainUserPassword":"$(SrvPwd)","localUserName":"$(AdminUser)","localPassword":"$(AdminPwd)","enableDeploymentPrerequisitesForCreate":"false","enableDeploymentPrerequisitesForSelect":"false","outputVariable":""}},{"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"*","name":"Enable Supporting Features on VMs","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"scriptType":"filePath","scriptName":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM/EnableWindowsFeatureSetUp.ps1","arguments":"-RemoteComputers $(vmLists) -WaitTime $(waitTime) -UserName $(AdminUser) -PassWord $(AdminPwd)","inlineScript":"# You can write your powershell scripts inline here. \n# You can also pass predefined and custom variables to this scripts using arguments\n\n Write-Host \"Hello World\"","workingFolder":"","failOnStandardError":"true"}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy all powershell scripts to all procured servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/Common/EnvironmentConfiguration/ARM","EnvironmentName":"$(webServer01),\n$(webServer02),\n$(appServer01),$(appServer02),$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"E:\\JemPowershell","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Web UI Bits To Web ILB Servers","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/JEMUI/_PublishedWebsites/Microsoft.FIT.JEM.Web.UI","EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy Wcf Bits To App ILB Servers","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/WCFServices","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(folderPaths)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"731004d4-1d66-4f70-8c05-638018b22210","version":"*","name":"Copy NTservice bits to app servers","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"SourcePath":"$(System.DefaultWorkingDirectory)/JEM_CI_Build/drop/NTServices","EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","TargetPath":"$(NTService)","CleanTargetBeforeCopy":"false","CopyFilesInParallel":"true","AdditionalArguments":"","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Environment Setup in App Servers","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\EnvironmentSetup.ps1","ScriptArguments":"-iisAppPoolName $(appPoolName) -ServiceAccountName $(SrvAccount) -ServiceAccountPwd $(SrvPwd) -iisWebSiteName $(webSite) -iisAppNames $(appNames) -servicePaths $(serviceNames) -IsQueueEnabled $(QEnabled) -QueueNames $(QueueNames)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Environment Setup In Web Servers","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\EnvironmentSetup.ps1","ScriptArguments":"-iisAppPoolName $(appPoolName) -ServiceAccountName $(SrvAccount) -ServiceAccountPwd $(SrvPwd) -iisWebSiteName $(webSite) -iisAppNames @() -servicePaths @() -IsQueueEnabled 0 -QueueNames $(QueueNames)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore  JEMInfra Database in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(jemInfraDB) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_JemInfra)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore  JEM_Data Database in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(JemDataDB) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_JemData)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Restore Feed store DB  in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\DBRestoration.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -dbname $(feedstore) -Restore $(Restore) -Backup $(backup) -BackupPath $(BackupPath) -differential_DB $(differential_DB_feedstore)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"To add user role and permission in SQL Server","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(sqlServer)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\AddSQLRoles.ps1","ScriptArguments":"-SqlServer  $(sqlServer) -loginNames $(loginNames) -userRole $(userRole)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Env Config Update ON $(webServer01),$(webServer02)","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(webServer01),$(webServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(folderPaths) -keyValues $(keyValuesLB1)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}},{"taskId":"3b5693d4-5777-4fee-862a-bd2b7a374c68","version":"*","name":"Env Config Update ON $(appServer01),$(appServer02)","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","inputs":{"EnvironmentName":"$(appServer01),$(appServer02)","AdminUserName":"$(AdminUser)","AdminPassword":"$(AdminPwd)","Protocol":"Http","TestCertificate":"true","ScriptPath":"E:\\JemPowershell\\WebConfigUpdate.ps1","ScriptArguments":"-folderPaths $(folderPaths) -keyValues $(keyValuesLB1)","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":0,"queueDepthCount":0},"schedules":[],"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true}}],"artifacts":[{"sourceId":"3d1a556d-2042-4a45-9dae-61808ff33d3b:3618","type":"Build","alias":"JEM_CI_Build","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://tfsprodscussu5.app.visualstudio.com/Ac5980f40-c81d-404b-8b4b-f368d14877e9/_permalink/_build/index?collectionId=cdcc3dee-d62a-41ee-aded-daf587e1851b&projectId=3d1a556d-2042-4a45-9dae-61808ff33d3b&definitionId=3618","name":""},"definition":{"id":"3618","name":"JEM_CI_Build"},"project":{"id":"3d1a556d-2042-4a45-9dae-61808ff33d3b","name":"OneITVSO"}},"isPrimary":true}],"triggers":[],"releaseNameFormat":"Release-$(rev:r)","retentionPolicy":null,"url":"https://microsoftit.vsrm.visualstudio.com/OneITVSO/_apis/Release/definitions/1587","_links":{"self":{"href":"https://microsoftit.vsrm.visualstudio.com/OneITVSO/_apis/Release/definitions/1587"},"web":{"href":"https://microsoftit.visualstudio.com/3d1a556d-2042-4a45-9dae-61808ff33d3b/_apps/hub/ms.vss-releaseManagement-web.hub-explorer?definitionId=1587"}}}